<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>web Storage</title><!--以下代码是localStorage方法（永久保存），如果用sessionStorage直接将所有的localStorage
                                改为sessionStorage（此方法关闭浏览器后自动删除）即可，除了那个本地时间toLocaleString-->
    <style type="text/css">
        textarea{
            width: 500px;
            height: 200px;
        }
    </style>
    <script type="text/javascript">
        //使用HTML5 web存储的sessionStorage方式进行编写一个web页面
        //功能时一个建议的web留言板，留言板信息可以永久保存，并能清除留言板内容，参考页面如下图：

        //添加留言信息
        function addInfo(){
            var info=document.getElementById("t1");
             var LStorage=window.localStorage;//获取localStorage对象
            //判断对象中是否含有myBoard键
            if(LStorage.myBoard){
                var date=new Date();
                //获取原先键所对应得值再加上文本框中所输入的留言信息，也就是说键所对应的值做累加
                LStorage.myBoard+=t1.value+"\n发表时间："+date.toLocaleString()+"\n";
            }
            else{
                var date=new Date();
                //获取原先键所对应得值再加上文本框中所输入的留言信息，也就是说键所对应的值做累加
                LStorage.myBoard=t1.value+"\n发表时间："+date.toLocaleString()+"\n";
            }
            upInfo();
        }
        //取出键所对应的值显示在多行文本框中
        function upInfo(){
            var LStorage = window.localStorage;
            var show=document.getElementById("show");
            if(window.localStorage.myBoard){
                show.value=window.localStorage.getItem("myBoard");
            }
            else{
                show.value="还没有留言。";
            }
        }
        //清除留言信息
        function cleanInfo(){
            window.localStorage.removeItem("myBoard");
            upInfo();
        }

    </script>
</head>
<body>
<div>
    <h2>简单的web存储留言板</h2>
    <textarea id="t1"></textarea>
    <br/>
    <input type="button" class="button" onclick="addInfo()" value="留言"/>
    <input type="button" class="button" onclick="cleanInfo()" value="清除留言"/>
    <br/>
    <hr/>
    <textarea id="show" readonly="readonly"></textarea>
</div>
</body>
</html>